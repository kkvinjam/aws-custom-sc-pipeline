{"AWSTemplateFormatVersion": "2010-09-09", "Description": "Linux EC2 ServiceCatalog product. (fdp-custom6q6)", "Parameters": {"PortfolioProvider": {"Type": "String", "Description": "Owner and Distributor Name", "Default": "CCOE"}, "LaunchConstraintRole": {"Type": "String", "Description": "Name of the launch constraint role for EC2 products.", "Default": "SCEC2LaunchRole"}, "RepoRootURL": {"Type": "String", "Description": "Root url for the repo containing the product templates."}}, "Conditions": {"CondLaunchConstraintRole": {"Fn::Not": [{"Fn::Equals": [{"Ref": "LaunchConstraintRole"}, ""]}]}}, "Resources": {"SCProduct": {"Type": "AWS::ServiceCatalog::CloudFormationProduct", "Properties": {"Name": "Amazon Elastic Compute Cloud (EC2) Linux", "Description": "This product builds one Amazon Linux EC2 instance and create a SSM patch baseline, maintenance window, and patch task to scan for and install operating system updates the EC2 instance.", "Owner": {"Ref": "PortfolioProvider"}, "Distributor": {"Ref": "PortfolioProvider"}, "SupportDescription": "Operations Team", "SupportEmail": "support@yourcompany.com", "AcceptLanguage": "en", "SupportUrl": "http://helpdesk.yourcompany.com", "ProvisioningArtifactParameters": [{"Description": "initial version", "Info": {"LoadTemplateFromURL": {"Fn::Sub": "${RepoRootURL}templates/dev-portfolio/ec2/sc-ec2-linux-ra.json"}}, "Name": "v1.0"}, {"Description": "initial version", "Info": {"LoadTemplateFromURL": {"Fn::Sub": "${RepoRootURL}templates/dev-portfolio/ec2/sc-ec2-linux-ra.json"}}, "Name": "v1.1"}, {"Description": "initial version", "Info": {"LoadTemplateFromURL": {"Fn::Sub": "${RepoRootURL}templates/dev-portfolio/ec2/sc-ec2-linux-ra.json"}}, "Name": "v1.2"}]}}, "productPortfolioAssociation": {"Type": "AWS::ServiceCatalog::PortfolioProductAssociation", "Properties": {"PortfolioId": {"Fn::ImportValue": "SC-DevPortfolio-ID"}, "ProductId": {"Ref": "SCProduct"}}}, "LaunchConstraint": {"Type": "AWS::ServiceCatalog::LaunchRoleConstraint", "Condition": "CondLaunchConstraintRole", "DependsOn": "productPortfolioAssociation", "Properties": {"PortfolioId": {"Fn::ImportValue": "SC-DevPortfolio-ID"}, "ProductId": {"Ref": "SCProduct"}, "LocalRoleName": {"Ref": "LaunchConstraintRole"}, "Description": {"Ref": "LaunchConstraintRole"}}}}, "Outputs": {"PortfolioId": {"Description": "SC EC2 Linux Product", "Value": {"Ref": "SCProduct"}, "Export": {"Name": "SC-DEV-EC2-Linux-ProductId"}}}}